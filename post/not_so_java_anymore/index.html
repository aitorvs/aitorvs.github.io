<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.74.3" />

    
    
    

<title>Not so java anymore â€¢ Aitor Viana</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Not so java anymore"/>
<meta name="twitter:description" content="Java does not feel so &ldquo;Java&rdquo; anymore. And to show it we&rsquo;re going to take a look at Java 14."/>

<meta property="og:title" content="Not so java anymore" />
<meta property="og:description" content="Java does not feel so &ldquo;Java&rdquo; anymore. And to show it we&rsquo;re going to take a look at Java 14." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://aitorvs.github.io/post/not_so_java_anymore/" />
<meta property="article:published_time" content="2020-07-15T12:12:58+01:00" />
<meta property="article:modified_time" content="2020-07-15T12:12:58+01:00" /><meta property="og:site_name" content="Sr. Software Engineer" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.d3557f957f9db4a9cd4aac26c40b6ef1e96d23256ad56f7b407af46f9a567204.css" integrity="sha256-01V/lX&#43;dtKnNSqwmxAtu8eltIyVq1W97QHr0b5pWcgQ=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://aitorvs.github.io/">Aitor Viana</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://aitorvs.github.io/img/aitorvs.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         Random thoughts. 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Aitor Viana</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/post/">
						<span>Posts</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/aitorvs" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/aitorvs" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/aitorvs" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Not so java anymore</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jul 15, 2020
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/java">java</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 6 min read
</div>


  </header>
  
  
  <div class="post">
    <p>As a software engineer that spends a fair amount of time programming in Java, I have suffered and heard multiple times how Java is an old language, verbose not very productive or pleasant to work with. Even more when having done Android development for a long while now where we&rsquo;re stuck in Java 8-ish.</p>
<p>It is interesting that even though Java is amongst the <a href="https://insights.stackoverflow.com/survey/2019#most-popular-technologies">top 5 most popular languages</a>, it barely makes it to the <a href="https://insights.stackoverflow.com/survey/2019#most-loved-dreaded-and-wanted">top 20 most loved languages</a>.</p>
<p>That is all history now (I hope), Java does not feel so &ldquo;Java&rdquo; anymore. And to show it we&rsquo;re going to take a look at Java 14.</p>
<!-- raw HTML omitted -->
<p><em>NOTE: Some of the Java 14 features that we will see here are &ldquo;preview&rdquo; features. To access then you&rsquo;ll need to configure <code>IntelliJ</code> to use &ldquo;Java 14 preview&rdquo; in Project settings.</em></p>
<h2 id="records-preview">Records (preview)</h2>
<p>Writing POJOs in Java has always being kind of a pain. One would need to define all fields, override <code>equals</code>,  <code>hashCode</code> and <code>toString</code>, create the <code>getters</code>, which could all easily add up to 50+ lines of code for a class where all you really wanted to define where a handful of fields and its accessor methods.</p>
<p>Frameworks have been created out of this need, <a href="https://projectlombok.org/">Lombok</a>, extensively used in the backend, <a href="https://github.com/google/auto/blob/master/value/userguide/index.md">auto-value</a>, mainly used in Android development, but I have also seen it used in backend. Both with his pros and cons.</p>
<p>Kotlin created a way more elegant solution with its <a href="https://kotlinlang.org/docs/reference/data-classes.html">data classes</a> and now Java has <a href="https://openjdk.java.net/jeps/359"><code>Records</code></a> as a preview feature in Java 14, very similar to Kotlin data classes and a bit more flexible.</p>
<p>Defining a record is as terse as the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#66d9ef">public</span> record <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#f92672">}</span>
</code></pre></div><p>Java compiler generates for us <code>equals</code>, <code>hashCode</code>, <code>toString</code> and all the accessor methods, in this case <code>name()</code> and <code>age()</code>. This is how the <code>User.class</code> looks like.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">extends</span> java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Record</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span> name<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>

  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span> name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span> <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Object</span> o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">age</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e">/* compiled code */</span> <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><em>NOTE: I like the fact that it was decided to generate accessors rather than getters like getName() etc. I think it is a way nicer convention</em></p>
<p>Records are a <code>final</code> class that extends type <code>Record</code> and so:</p>
<ul>
<li>you can&rsquo;t make it <code>abstract</code></li>
<li>it can&rsquo;t extend any other class</li>
<li>you can&rsquo;t have <code>setters</code>. As <code>records</code> are suppose to be read-only</li>
<li>it can implement any other  type</li>
</ul>
<p>You can easily serialize <code>Record</code>s. Just make them implement the <code>Serializable</code> type.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> record <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>This is one of my favourites, you can add logic to your <code>Record</code>. This is very handy when you want to do some form of validation upon eg. its creation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> record <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> User <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>age <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IllegalAccessException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid age&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>The code above uses what is called the <strong>compact constructor</strong>. Where you get implicit access to the class member fields but is a bit more terse. One can also use the <strong>canonical constructor</strong> to do the same.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> record <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>age <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IllegalAccessException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Invalid age&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>You can also override its methods, like the accessors.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> record <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">name</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> name<span style="color:#f92672">.</span><span style="color:#a6e22e">toLowerCase</span><span style="color:#f92672">();</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>I have to say that I like Records, probably more so than Kotlin data classes mainly because of its extensibility, although one might argue that this is not a very good practice and a <code>record</code> should just hold data.</p>
<h2 id="text-blocks-2nd-preview">Text Blocks (2nd preview)</h2>
<p>I love this feature because it solves one of the most painful things I have found when using Java, which is dealing with text. Endless were the times were I needed to scape plenty of symbols when eg. writing tests that had JSON as input/output. Although this was alleviated by Intellij&rsquo;s ability to inject language, it was still somewhat painful.</p>
<p><a href="https://openjdk.java.net/jeps/368">Text blocks</a> are the equivalent to <a href="https://kotlinlang.org/docs/reference/basic-types.html">Kotlin&rsquo;s multiline string literals</a>, and you can use them using also the <code>&quot;&quot;&quot;</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    {
</span><span style="color:#e6db74">      &#34;</span>name<span style="color:#e6db74">&#34;: &#34;</span>Aitor<span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">      &#34;</span>age<span style="color:#e6db74">&#34;: 10
</span><span style="color:#e6db74">    }&#34;&#34;&#34;</span><span style="color:#f92672">;</span>
</code></pre></div><p><em>NOTE: text blocks were first introduced in Java 13 as a preview feature</em></p>
<h2 id="pattern-matching-for-instanceof-preview">Pattern matching for <code>instanceof</code> (preview)</h2>
<p>Look at the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>someObject <span style="color:#66d9ef">instanceof</span> User<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(((</span>User<span style="color:#f92672">)</span> someObject<span style="color:#f92672">).</span><span style="color:#a6e22e">name</span><span style="color:#f92672">());</span>
  <span style="color:#f92672">}</span>
</code></pre></div><p>It is clear that <code>someObject</code> is a <code>User</code> when inside the <code>if</code> statement, but yet Java does not seem to know and end up needing that ugly casting. Kotlin is great in this way because of its type inference.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>someObject is User<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    println<span style="color:#f92672">(</span>someObject<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">)</span>
  <span style="color:#f92672">}</span>
</code></pre></div><p>Now Java is making the effort in that direction introducing <a href="https://openjdk.java.net/jeps/305">pattern matching for <code>instanceof</code></a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>someObject <span style="color:#66d9ef">instanceof</span> User user<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>user<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">());</span>
  <span style="color:#f92672">}</span>
</code></pre></div><p>Note how can we inline a new scoped variable <code>user</code> that has the proper type, that we can then use within the code block. Although it is clear that this is not as terse as Kotlin type inference (probably because doing something similar to what Kotlin does would not be a backwards compatible change), it is a good step forward that already provides a lot of value and makes Java code much more pleasant to read.</p>
<h2 id="switch-expressions-standard">Switch Expressions (standard)</h2>
<p><a href="https://openjdk.java.net/jeps/361">Switch expressions</a> were introduced as preview in Java 12 and Java 13. Now in Java 14 they have made it a standard feature, and I know it may sound silly, but it feels so much better like this. This is good-old <code>switch-case</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">case</span> MONDAY<span style="color:#f92672">:</span>
    <span style="color:#66d9ef">case</span> FRIDAY<span style="color:#f92672">:</span>
    <span style="color:#66d9ef">case</span> SUNDAY<span style="color:#f92672">:</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>6<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> TUESDAY<span style="color:#f92672">:</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>7<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> THURSDAY<span style="color:#f92672">:</span>
    <span style="color:#66d9ef">case</span> SATURDAY<span style="color:#f92672">:</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>8<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> WEDNESDAY<span style="color:#f92672">:</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>9<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>And now with <code>switch-expression</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">case</span> MONDAY<span style="color:#f92672">,</span> FRIDAY<span style="color:#f92672">,</span> SUNDAY <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>6<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">case</span> TUESDAY                <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>7<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">case</span> THURSDAY<span style="color:#f92672">,</span> SATURDAY     <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>8<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">case</span> WEDNESDAY              <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>9<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>As a switch is now an expression, you can use it as such, for instance, assign its result to a variable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">int</span> numLetters <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">case</span> MONDAY<span style="color:#f92672">,</span> FRIDAY<span style="color:#f92672">,</span> SUNDAY <span style="color:#f92672">-&gt;</span> 6<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> TUESDAY                <span style="color:#f92672">-&gt;</span> 7<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> THURSDAY<span style="color:#f92672">,</span> SATURDAY     <span style="color:#f92672">-&gt;</span> 8<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> WEDNESDAY              <span style="color:#f92672">-&gt;</span> 9<span style="color:#f92672">;</span>
<span style="color:#f92672">};</span>
</code></pre></div><p>Or directly return its result.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">return</span> <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">case</span> MONDAY<span style="color:#f92672">,</span> FRIDAY<span style="color:#f92672">,</span> SUNDAY <span style="color:#f92672">-&gt;</span> 6<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> TUESDAY                <span style="color:#f92672">-&gt;</span> 7<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> THURSDAY<span style="color:#f92672">,</span> SATURDAY     <span style="color:#f92672">-&gt;</span> 8<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> WEDNESDAY              <span style="color:#f92672">-&gt;</span> 9<span style="color:#f92672">;</span>
<span style="color:#f92672">};</span>
</code></pre></div><p>Or return computed values rather than single expressions using the <code>yield</code> keyword.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">case</span> MONDAY  <span style="color:#f92672">-&gt;</span> 0<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">case</span> TUESDAY <span style="color:#f92672">-&gt;</span> 1<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">default</span>      <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> day<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">().</span><span style="color:#a6e22e">length</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> f<span style="color:#f92672">(</span>k<span style="color:#f92672">);</span>
        yield result<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">};</span>
</code></pre></div><p><em>Note: some of the examples above are taken directly from the JPEs</em></p>
<h2 id="and-more">&hellip;and more</h2>
<p>I have just highlighted here some of the features added or consolidated in Java 14, there are many more features and you can take a look at the <a href="https://openjdk.java.net/projects/jdk/14/">full list of JPEs here</a>.</p>
<p>Java is not the same Java anymore. It is not the same slow-evolving language that despite being one of the most used, it never gets close to being one of the most loved. It&rsquo;s been a while since Java went down the route of releasing a new version every six months and since then we have seen tons of good new features. Java feels different, feels refreshing and a more productive language.</p>

  </div>
  


  

  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/java.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/kotlin.min.js"></script>
            
        
    <script type="text/javascript">
        
        hljs.configure({languages: ["java, kotlin"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    



    



    </body>
</html>
